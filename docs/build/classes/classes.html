

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>classes package &mdash; Deep Data Profiler 1.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="algorithms" href="../algorithms/modules.html" />
    <link rel="prev" title="classes" href="modules.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> Deep Data Profiler
          

          
            
            <img src="../_static/Profilingicon.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Overview</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Profiling</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">classes package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-classes.profile">classes.profile module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-classes.torch_profiler">classes.torch_profiler module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-classes">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../algorithms/modules.html">Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installing Deep Data Profiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tableofcontents.html">Index</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Deep Data Profiler</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">classes</a> &raquo;</li>
        
      <li>classes package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/classes/classes.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="classes-package">
<h1>classes package<a class="headerlink" href="#classes-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-classes.profile">
<span id="classes-profile-module"></span><h2>classes.profile module<a class="headerlink" href="#module-classes.profile" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="classes.profile.Profile">
<em class="property">class </em><code class="sig-prename descclassname">classes.profile.</code><code class="sig-name descname">Profile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">profile</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#classes.profile.Profile" title="classes.profile.Profile">classes.profile.Profile</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">neuron_counts</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>Dict<span class="p">[</span>int<span class="p">, </span>scipy.sparse.base.spmatrix<span class="p">]</span><span class="p">, </span>Dict<span class="p">[</span>int<span class="p">, </span>Dict<span class="p">[</span>Tuple<span class="p">, </span>float<span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">neuron_weights</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>Dict<span class="p">[</span>int<span class="p">, </span>scipy.sparse.base.spmatrix<span class="p">]</span><span class="p">, </span>Dict<span class="p">[</span>int<span class="p">, </span>Dict<span class="p">[</span>Tuple<span class="p">, </span>float<span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">synapse_counts</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>Dict<span class="p">[</span>int<span class="p">, </span>scipy.sparse.base.spmatrix<span class="p">]</span><span class="p">, </span>Dict<span class="p">[</span>int<span class="p">, </span>Dict<span class="p">[</span>Tuple<span class="p">, </span>float<span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">synapse_weights</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>Dict<span class="p">[</span>int<span class="p">, </span>scipy.sparse.base.spmatrix<span class="p">]</span><span class="p">, </span>Dict<span class="p">[</span>int<span class="p">, </span>Dict<span class="p">[</span>Tuple<span class="p">, </span>float<span class="p">]</span><span class="p">]</span><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">num_inputs</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">0</span></em>, <em class="sig-param"><span class="n">neuron_type</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/classes/profile.html#Profile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#classes.profile.Profile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Summary</p>
<dl class="py method">
<dt id="classes.profile.Profile.neuron_counts">
<em class="property">property </em><code class="sig-name descname">neuron_counts</code><a class="headerlink" href="#classes.profile.Profile.neuron_counts" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>returns: <strong>neuron_counts</strong> – Dictionary representing profile neurons and their counts,</dt><dd><p>i.e. how many synapses they were influential or contributing to</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Dict of scipy.sparse matrices or Dict of dicts</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="classes.profile.Profile.neuron_type">
<em class="property">property </em><code class="sig-name descname">neuron_type</code><a class="headerlink" href="#classes.profile.Profile.neuron_type" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>returns: <strong>neuron_type</strong> – The type of neurons used in the profile,</dt><dd><p>i.e. ‘element’, ‘channel’, or ‘mixed’ (aggregate of profiles with mismatched types)</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="classes.profile.Profile.neuron_weights">
<em class="property">property </em><code class="sig-name descname">neuron_weights</code><a class="headerlink" href="#classes.profile.Profile.neuron_weights" title="Permalink to this definition">¶</a></dt>
<dd><p>returns: <strong>neuron_weights</strong> – Dictionary representing influential profile neurons and their weights
:rtype: Dict of scipy.sparse matrices or Dict of dicts</p>
</dd></dl>

<dl class="py method">
<dt id="classes.profile.Profile.num_inputs">
<em class="property">property </em><code class="sig-name descname">num_inputs</code><a class="headerlink" href="#classes.profile.Profile.num_inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>returns: <strong>num_inputs</strong> – The number of input images represented by the profile
:rtype: int</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Class profiles and other aggregate profiles will have num_inputs &gt; 1</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="classes.profile.Profile.num_synapses">
<em class="property">property </em><code class="sig-name descname">num_synapses</code><a class="headerlink" href="#classes.profile.Profile.num_synapses" title="Permalink to this definition">¶</a></dt>
<dd><p>returns: Total number of synapses across all layers
:rtype: int</p>
</dd></dl>

<dl class="py method">
<dt id="classes.profile.Profile.size">
<em class="property">property </em><code class="sig-name descname">size</code><a class="headerlink" href="#classes.profile.Profile.size" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>returns: Total number of neurons identified as influential or contributing</dt><dd><p>(neurons with nonzero neuron counts)</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="classes.profile.Profile.synapse_counts">
<em class="property">property </em><code class="sig-name descname">synapse_counts</code><a class="headerlink" href="#classes.profile.Profile.synapse_counts" title="Permalink to this definition">¶</a></dt>
<dd><p>returns: <strong>synapse_counts</strong> – Dictionary representing profile synapses and their counts
:rtype: Dict of scipy.sparse matrices or Dict of dicts</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For a single image profile (num_inputs=1) all synapses should have a count of 1</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="classes.profile.Profile.synapse_weights">
<em class="property">property </em><code class="sig-name descname">synapse_weights</code><a class="headerlink" href="#classes.profile.Profile.synapse_weights" title="Permalink to this definition">¶</a></dt>
<dd><p>returns: <strong>synapse_weights</strong> – Dictionary representing profile synapses and their weights
:rtype: Dict of scipy.sparse matrices or Dict of dicts</p>
</dd></dl>

<dl class="py method">
<dt id="classes.profile.Profile.total">
<em class="property">property </em><code class="sig-name descname">total</code><a class="headerlink" href="#classes.profile.Profile.total" title="Permalink to this definition">¶</a></dt>
<dd><p>returns: Total sum of neuron counts across all layers
:rtype: int</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-classes.torch_profiler">
<span id="classes-torch-profiler-module"></span><h2>classes.torch_profiler module<a class="headerlink" href="#module-classes.torch_profiler" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="classes.torch_profiler.TorchProfiler">
<em class="property">class </em><code class="sig-prename descclassname">classes.torch_profiler.</code><code class="sig-name descname">TorchProfiler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model</span><span class="p">:</span> <span class="n">torch.nn.modules.container.Sequential</span></em>, <em class="sig-param"><span class="n">device</span><span class="p">:</span> <span class="n">torch.device</span> <span class="o">=</span> <span class="default_value">device(type='cpu')</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/classes/torch_profiler.html#TorchProfiler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#classes.torch_profiler.TorchProfiler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Torch Profiler wraps a PyTorch model into a TorchHook model which can register activations
as it evaluates data. Using the activations, inputs to the model may be profiled.</p>
<dl class="py attribute">
<dt id="classes.torch_profiler.TorchProfiler.activation_classes">
<code class="sig-name descname">activation_classes</code><a class="headerlink" href="#classes.torch_profiler.TorchProfiler.activation_classes" title="Permalink to this definition">¶</a></dt>
<dd><p>List of activation classes in PyTorch</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="classes.torch_profiler.TorchProfiler.dropout_classes">
<code class="sig-name descname">dropout_classes</code><a class="headerlink" href="#classes.torch_profiler.TorchProfiler.dropout_classes" title="Permalink to this definition">¶</a></dt>
<dd><p>List of dropout classes in PyTorch</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="classes.torch_profiler.TorchProfiler.implemented_classes">
<code class="sig-name descname">implemented_classes</code><a class="headerlink" href="#classes.torch_profiler.TorchProfiler.implemented_classes" title="Permalink to this definition">¶</a></dt>
<dd><p>List of classes in PyTorch which have contrib functions implemented</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="classes.torch_profiler.TorchProfiler.contrib_functions">
<code class="sig-name descname">contrib_functions</code><a class="headerlink" href="#classes.torch_profiler.TorchProfiler.contrib_functions" title="Permalink to this definition">¶</a></dt>
<dd><p>List of contrib functions ordered by their corresponding classes in implemented_classes</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="classes.torch_profiler.TorchProfiler.model">
<code class="sig-name descname">model</code><a class="headerlink" href="#classes.torch_profiler.TorchProfiler.model" title="Permalink to this definition">¶</a></dt>
<dd><p>Model to be profiled</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>torch.nn.Sequential</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="classes.torch_profiler.TorchProfiler.contrib_adaptive_avg_pool2d">
<code class="sig-name descname">contrib_adaptive_avg_pool2d</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x_in</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>int<span class="p">, </span>torch.Tensor<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">y_out</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>int<span class="p">, </span>torch.Tensor<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">infl_neurons</span><span class="p">:</span> <span class="n">torch.Tensor</span></em>, <em class="sig-param"><span class="n">layer</span><span class="p">:</span> <span class="n">List<span class="p">[</span>str<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">threshold</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">channels</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>scipy.sparse.coo.coo_matrix<span class="p">, </span>scipy.sparse.coo.coo_matrix<span class="p">, </span>scipy.sparse.coo.coo_matrix<span class="p">]</span><a class="reference internal" href="../_modules/classes/torch_profiler.html#TorchProfiler.contrib_adaptive_avg_pool2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#classes.torch_profiler.TorchProfiler.contrib_adaptive_avg_pool2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the contributing synapses for a torch.nn.AdaptiveAveragePool layer</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x_in</strong> (<em>Dict</em><em>[</em><em>int</em><em>, </em><em>torch.Tensor</em><em>]</em>) – dict where key is layer, value is tensor
dimensions: batchsize,channels,height,width</p></li>
<li><p><strong>y_out</strong> (<em>Dict</em><em>[</em><em>int</em><em>, </em><em>torch.Tensor</em><em>]</em>) – dict where key is layer, value is tensor
dimensions: batchsize,channels,height,width</p></li>
<li><p><strong>infl_neurons</strong> (<em>torch.Tensor</em>) – <p>tensor containing indices of influential neurons in y_out
dimensions: num_influential if channel-wise</p>
<blockquote>
<div><p>num_influential,3 if element-wise</p>
</div></blockquote>
</p></li>
<li><p><strong>layer</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – list containing single key in self.model.available_modules() dictionary</p></li>
<li><p><strong>threshold</strong> (<em>float</em>) – </p></li>
<li><p><strong>channels</strong> (<em>bool</em>) – profile by channels if True,
otherwise profile by individual elements</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>neuron_counts</strong> (<em>sp.coo_matrix</em>)</p></li>
<li><p><strong>synapse_counts</strong> (<em>sp.coo_matrix</em>)</p></li>
<li><p><strong>synapse_weights</strong> (<em>sp.coo_matrix</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="classes.torch_profiler.TorchProfiler.contrib_conv2d">
<code class="sig-name descname">contrib_conv2d</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x_in</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>int<span class="p">, </span>torch.Tensor<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">y_out</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>int<span class="p">, </span>torch.Tensor<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">infl_neurons</span><span class="p">:</span> <span class="n">torch.Tensor</span></em>, <em class="sig-param"><span class="n">layer</span><span class="p">:</span> <span class="n">List<span class="p">[</span>str<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">threshold</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">channels</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>scipy.sparse.coo.coo_matrix<span class="p">, </span>scipy.sparse.coo.coo_matrix<span class="p">, </span>scipy.sparse.coo.coo_matrix<span class="p">]</span><a class="reference internal" href="../_modules/classes/torch_profiler.html#TorchProfiler.contrib_conv2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#classes.torch_profiler.TorchProfiler.contrib_conv2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Profile a single output neuron from a 2d conv layer</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x_in</strong> (<em>Dict</em><em>[</em><em>int</em><em>, </em><em>torch.Tensor</em><em>]</em>) – dict where key is layer, value is tensor
dimensions: batchsize,channels,height,width</p></li>
<li><p><strong>y_out</strong> (<em>Dict</em><em>[</em><em>int</em><em>, </em><em>torch.Tensor</em><em>]</em>) – dict where key is layer, value is tensor
dimensions: batchsize,channels,height,width</p></li>
<li><p><strong>infl_neurons</strong> (<em>torch.Tensor</em>) – <p>tensor containing indices of influential neurons in y_out
dimensions: num_influential if channel-wise</p>
<blockquote>
<div><p>num_influential,3 if element-wise</p>
</div></blockquote>
</p></li>
<li><p><strong>layer</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – list containing keys in self.model.available_modules() dictionary
for conv2d these will refer to a convolutional module and an
activation module</p></li>
<li><p><strong>threshold</strong> (<em>float</em>) – </p></li>
<li><p><strong>channels</strong> (<em>bool</em>) – profile by channels if True,
otherwise profile by individual elements</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>neuron_counts</strong> (<em>sp.coo_matrix</em>)</p></li>
<li><p><strong>neuron_weights</strong> (<em>sp.coo_matrix</em>)</p></li>
<li><p><strong>synapse_counts</strong> (<em>sp.coo_matrix</em>)</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only implemented for convolution using filters with same height and width
and strides equal in both dimensions and padding equal in all dimensions</p>
<p>Synapse profiles for conv2d are indexed by 3 sets of tuples one for each neuron
and on one for the index of the filter used.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="classes.torch_profiler.TorchProfiler.contrib_identity">
<code class="sig-name descname">contrib_identity</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x_in</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>int<span class="p">, </span>torch.Tensor<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">y_out</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>int<span class="p">, </span>torch.Tensor<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">infl_neurons</span><span class="p">:</span> <span class="n">torch.Tensor</span></em>, <em class="sig-param"><span class="n">layer</span><span class="p">:</span> <span class="n">List<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">threshold</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">channels</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>scipy.sparse.coo.coo_matrix<span class="p">, </span>scipy.sparse.coo.coo_matrix<span class="p">, </span>scipy.sparse.coo.coo_matrix<span class="p">]</span><a class="reference internal" href="../_modules/classes/torch_profiler.html#TorchProfiler.contrib_identity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#classes.torch_profiler.TorchProfiler.contrib_identity" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass through to keep influential neurons from one layer fixed into the
next. Used for normalization layers</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x_in</strong> (<em>Dict</em><em>[</em><em>int</em><em>, </em><em>torch.Tensor</em><em>]</em>) – dict where key is layer, value is tensor
dimensions: batchsize,channels,height,width</p></li>
<li><p><strong>y_out</strong> (<em>Dict</em><em>[</em><em>int</em><em>, </em><em>torch.Tensor</em><em>]</em>) – dict where key is layer, value is tensor
dimensions: batchsize,channels,height,width</p></li>
<li><p><strong>infl_neurons</strong> (<em>torch.Tensor</em>) – <p>tensor containing indices of influential neurons in y_out
dimensions: num_influential if channel-wise</p>
<blockquote>
<div><p>num_influential,3 if element-wise</p>
</div></blockquote>
</p></li>
<li><p><strong>layer</strong> (<em>None</em><em> or </em><em>List</em><em>[</em><em>str</em><em>]</em>) – not used, placeholder for uniformity in arguments</p></li>
<li><p><strong>threshold</strong> (<em>None</em><em> or </em><em>float</em>) – not used, placeholder for uniformity in arguments</p></li>
<li><p><strong>channels</strong> (<em>bool</em>) – profile by channels if True,
otherwise profile by individual elements</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>neuron_counts</em></p></li>
<li><p><em>synapse_counts</em></p></li>
<li><p><em>synapse_weights</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="classes.torch_profiler.TorchProfiler.contrib_linear">
<code class="sig-name descname">contrib_linear</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x_in</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>int<span class="p">, </span>torch.Tensor<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">y_out</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>int<span class="p">, </span>torch.Tensor<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">infl_neurons</span><span class="p">:</span> <span class="n">torch.Tensor</span></em>, <em class="sig-param"><span class="n">layer</span><span class="p">:</span> <span class="n">List<span class="p">[</span>str<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">threshold</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">channels</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>scipy.sparse.coo.coo_matrix<span class="p">, </span>scipy.sparse.coo.coo_matrix<span class="p">, </span>scipy.sparse.coo.coo_matrix<span class="p">]</span><a class="reference internal" href="../_modules/classes/torch_profiler.html#TorchProfiler.contrib_linear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#classes.torch_profiler.TorchProfiler.contrib_linear" title="Permalink to this definition">¶</a></dt>
<dd><p>Profile output neurons from a linear layer</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x_in</strong> (<em>Dict</em><em>[</em><em>int</em><em>, </em><em>torch.Tensor</em><em>]</em>) – dict where key is layer, value is tensor
dimensions: batchsize,channels,height,width</p></li>
<li><p><strong>y_out</strong> (<em>Dict</em><em>[</em><em>int</em><em>, </em><em>torch.Tensor</em><em>]</em>) – dict where key is layer, value is tensor
dimensions: batchsize,channels,height,width</p></li>
<li><p><strong>infl_neurons</strong> (<em>torch.Tensor</em>) – tensor containing indices of influential neurons in y_out
dimensions: num_influential</p></li>
<li><p><strong>layer</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – list containing single key in self.model.available_modules() dictionary</p></li>
<li><p><strong>threshold</strong> (<em>float</em>) – </p></li>
<li><p><strong>channels</strong> (<em>bool</em>) – profile by channels if True,
otherwise profile by individual elements</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>neuron_counts</strong> (<em>sp.coo_matrix</em>)</p></li>
<li><p><strong>synapse_counts</strong> (<em>sp.coo_matrix</em>)</p></li>
<li><p><strong>synapse_weights</strong> (<em>sp.coo_matrix</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="classes.torch_profiler.TorchProfiler.contrib_max2d">
<code class="sig-name descname">contrib_max2d</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x_in</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>int<span class="p">, </span>torch.Tensor<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">y_out</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>int<span class="p">, </span>torch.Tensor<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">infl_neurons</span><span class="p">:</span> <span class="n">torch.Tensor</span></em>, <em class="sig-param"><span class="n">layer</span><span class="p">:</span> <span class="n">List<span class="p">[</span>str<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">threshold</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">channels</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>scipy.sparse.coo.coo_matrix<span class="p">, </span>scipy.sparse.coo.coo_matrix<span class="p">, </span>scipy.sparse.coo.coo_matrix<span class="p">]</span><a class="reference internal" href="../_modules/classes/torch_profiler.html#TorchProfiler.contrib_max2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#classes.torch_profiler.TorchProfiler.contrib_max2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the contributing synapse for a torch.nn.Max2D layer</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x_in</strong> (<em>Dict</em><em>[</em><em>int</em><em>, </em><em>torch.Tensor</em><em>]</em>) – dict where key is layer, value is tensor
dimensions: batchsize,channels,height,width</p></li>
<li><p><strong>y_out</strong> (<em>Dict</em><em>[</em><em>int</em><em>, </em><em>torch.Tensor</em><em>]</em>) – dict where key is layer, value is tensor
dimensions: batchsize,channels,height,width</p></li>
<li><p><strong>infl_neurons</strong> (<em>torch.Tensor</em>) – <p>tensor containing indices of influential neurons in y_out
dimensions: num_influential if channel-wise</p>
<blockquote>
<div><p>num_influential,3 if element-wise</p>
</div></blockquote>
</p></li>
<li><p><strong>layer</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – list containing single key in self.model.available_modules() dictionary</p></li>
<li><p><strong>threshold</strong> (<em>None</em><em> or </em><em>float</em>) – not used, placeholder for uniformity in arguments.</p></li>
<li><p><strong>channels</strong> (<em>bool</em>) – profile by channels if True,
otherwise profile by individual elements</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>neuron_counts</strong> (<em>sp.coo_matrix</em>)</p></li>
<li><p><strong>synapse_counts</strong> (<em>sp.coo_matrix</em>)</p></li>
<li><p><strong>synapse_weights</strong> (<em>sp.coo_matrix</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="classes.torch_profiler.TorchProfiler.contrib_resnetadd">
<code class="sig-name descname">contrib_resnetadd</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x_in</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>int<span class="p">, </span>torch.Tensor<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">y_out</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>int<span class="p">, </span>torch.Tensor<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">infl_neurons</span><span class="p">:</span> <span class="n">torch.Tensor</span></em>, <em class="sig-param"><span class="n">layer</span><span class="p">:</span> <span class="n">List<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">threshold</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">channels</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>Tuple<span class="p">[</span>scipy.sparse.coo.coo_matrix<span class="p">, </span>scipy.sparse.coo.coo_matrix<span class="p">]</span><span class="p">, </span>scipy.sparse.coo.coo_matrix<span class="p">, </span>scipy.sparse.coo.coo_matrix<span class="p">]</span><a class="reference internal" href="../_modules/classes/torch_profiler.html#TorchProfiler.contrib_resnetadd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#classes.torch_profiler.TorchProfiler.contrib_resnetadd" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x_in</strong> (<em>Dict</em><em>[</em><em>int</em><em>, </em><em>torch.Tensor</em><em>]</em>) – dict where key is layer, value is tensor
dimensions: batchsize,channels,height,width</p></li>
<li><p><strong>y_out</strong> (<em>Dict</em><em>[</em><em>int</em><em>, </em><em>torch.Tensor</em><em>]</em>) – dict where key is layer, value is tensor
dimensions: batchsize,channels,height,width</p></li>
<li><p><strong>infl_neurons</strong> (<em>torch.Tensor</em>) – <p>tensor containing indices of influential neurons in y_out
dimensions: num_influential if channel-wise</p>
<blockquote>
<div><p>num_influential,3 if element-wise</p>
</div></blockquote>
</p></li>
<li><p><strong>layer</strong> (<em>None</em><em> or </em><em>List</em><em>[</em><em>str</em><em>]</em>) – not used, placeholder for uniformity in arguments</p></li>
<li><p><strong>threshold</strong> (<em>None</em><em> or </em><em>float</em>) – not used, placeholder for uniformity in arguments</p></li>
<li><p><strong>channels</strong> (<em>bool</em>) – profile by channels if True,
otherwise profile by individual elements</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>neuron_counts</em></p></li>
<li><p><em>synapse_counts</em></p></li>
<li><p><em>synapse_weights</em></p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>NotImplementedError</strong> – Raises error if len(x_in) != 2 or len(y_out) != 1</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="classes.torch_profiler.TorchProfiler.create_layers">
<code class="sig-name descname">create_layers</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Dict<span class="p">[</span>int<span class="p">, </span>list<span class="p">]</span><a class="reference internal" href="../_modules/classes/torch_profiler.html#TorchProfiler.create_layers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#classes.torch_profiler.TorchProfiler.create_layers" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a dictionary of layers to profile.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>layerdict</strong> – A dictionary of layers keyed by their position from the beginning of the model according to the order
Pytorch uses to list the layers of the model.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>OrderedDict</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Because a weighted module is often followed by an activation and/or normalization modules
those modules are combined into a single layer to be profiled. As a consequence
the number of layers generated will typically be less than the number of available
modules in the model.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="classes.torch_profiler.TorchProfiler.create_profile">
<code class="sig-name descname">create_profile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span><span class="p">:</span> <span class="n">torch.Tensor</span></em>, <em class="sig-param"><span class="n">layerdict</span><span class="p">:</span> <span class="n">collections.OrderedDict</span></em>, <em class="sig-param"><span class="n">layers_to_profile</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>list<span class="p">, </span>Tuple<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">threshold</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">norm</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">channels</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; deep_data_profiler.classes.profile.Profile<a class="reference internal" href="../_modules/classes/torch_profiler.html#TorchProfiler.create_profile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#classes.torch_profiler.TorchProfiler.create_profile" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a profile for a single input data x as it passes through the layers in layerdict</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>torch.Tensor</em>) – input to model being profiled</p></li>
<li><p><strong>layerdict</strong> (<em>OrderedDict</em>) – keyed by consecutive layers to be profiled</p></li>
<li><p><strong>layers_to_profile</strong> (<em>list</em><em> or </em><em>tuple</em>) – list of specific layers to profile or tuple with first,last layers
(exclusive of last) to profile and all layers inbetween</p></li>
<li><p><strong>threshold</strong> (<em>float</em><em>, </em><em>optional</em><em>, </em><em>default=0.1</em>) – Percentage of contribution to track in a profile. ### TODO - allow a dictionary of varied thresholds per layer</p></li>
<li><p><strong>norm</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default=None</em>) – Specify norm=1 or norm=2 to select influential neurons by L1- or L2-norm, respectively. Defaults
to select influential neurons by max. values</p></li>
<li><p><strong>channels</strong> (<em>bool</em><em>, </em><em>optional</em><em>, </em><em>default=True</em>) – Neurons can be defined as channels or as individual elements of the activations. Set channels=True
create a channel-wise profile and channels=False to create an element-wise profile.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>profile contains neuron_counts, neuron_weights, synapse_counts, and synapse_weights
across layers in layerdict. Corresponding number of images = 1</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#classes.profile.Profile" title="classes.profile.Profile">Profile</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="classes.torch_profiler.TorchProfiler.dict_view">
<code class="sig-name descname">dict_view</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">profile</span><span class="p">:</span> <span class="n">deep_data_profiler.classes.profile.Profile</span></em>, <em class="sig-param"><span class="n">layerdict</span><span class="p">:</span> <span class="n">collections.OrderedDict</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; deep_data_profiler.classes.profile.Profile<a class="reference internal" href="../_modules/classes/torch_profiler.html#TorchProfiler.dict_view"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#classes.torch_profiler.TorchProfiler.dict_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a dictionary view of a sparse matrix formatted Profile
:param profile: Profile to be reformatted
:type profile: Profile
:param layerdict: keyed by consecutive layers to be profiled
:type layerdict: OrderedDict, optional, default=None</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Profile with counts and weights formatted as dicts</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#classes.profile.Profile" title="classes.profile.Profile">Profile</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="classes.torch_profiler.TorchProfiler.influence_generator">
<code class="sig-name descname">influence_generator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">activations</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>str<span class="p">, </span>torch.Tensor<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">norm</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">channels</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; Callable<span class="p">[</span><span class="p">[</span>int<span class="p">, </span>float<span class="p">]</span><span class="p">, </span>Tuple<span class="p">[</span>scipy.sparse.coo.coo_matrix<span class="p">, </span>scipy.sparse.coo.coo_matrix<span class="p">]</span><span class="p">]</span><a class="reference internal" href="../_modules/classes/torch_profiler.html#TorchProfiler.influence_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#classes.torch_profiler.TorchProfiler.influence_generator" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>activations</strong> (<em>dict of tensors</em>) – </p></li>
<li><p><strong>norm</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default=None</em>) – Specify norm=1 or norm=2 to select influential neurons by L1- or L2-norm, respectively.
Defaults to select influential neurons by max. values</p></li>
<li><p><strong>channels</strong> (<em>bool</em><em>, </em><em>optional</em><em>, </em><em>default=None</em>) – Profile by channels if True,
otherwise profile by individual elements</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>influential_neurons</strong> – A function that will pick out the most influential neurons
in a layer up to some threshold</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>function</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="classes.torch_profiler.TorchProfiler.sgheadtail">
<code class="sig-name descname">sgheadtail</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Dict<span class="p">[</span>int<span class="p">, </span>Tuple<span class="p">[</span>str<span class="p">, </span>str<span class="p">]</span><span class="p">]</span><a class="reference internal" href="../_modules/classes/torch_profiler.html#TorchProfiler.sgheadtail"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#classes.torch_profiler.TorchProfiler.sgheadtail" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>sght</strong> – Dictionary of the names of the head and tail modules at each layer</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="classes.torch_profiler.TorchProfiler.single_profile">
<code class="sig-name descname">single_profile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x_in</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>int<span class="p">, </span>torch.Tensor<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">y_out</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>int<span class="p">, </span>torch.Tensor<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">neuron_counts</span><span class="p">:</span> <span class="n">scipy.sparse.coo.coo_matrix</span></em>, <em class="sig-param"><span class="n">layerdict</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span>int<span class="p">, </span>list<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">ldx</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">threshold</span><span class="p">:</span> <span class="n">float</span></em>, <em class="sig-param"><span class="n">channels</span><span class="p">:</span> <span class="n">bool</span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>Union<span class="p">[</span>scipy.sparse.coo.coo_matrix<span class="p">, </span>Tuple<span class="p">[</span>scipy.sparse.coo.coo_matrix<span class="p">, </span>scipy.sparse.coo.coo_matrix<span class="p">]</span><span class="p">]</span><span class="p">, </span>scipy.sparse.coo.coo_matrix<span class="p">, </span>scipy.sparse.coo.coo_matrix<span class="p">]</span><a class="reference internal" href="../_modules/classes/torch_profiler.html#TorchProfiler.single_profile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#classes.torch_profiler.TorchProfiler.single_profile" title="Permalink to this definition">¶</a></dt>
<dd><p>Profiles a single layer</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x_in</strong> (<em>Dict</em><em>[</em><em>int</em><em>, </em><em>torch.Tensor</em><em>]</em>) – dict where key is layer, value is tensor
dimensions: batchsize,channels,height,width</p></li>
<li><p><strong>y_out</strong> (<em>Dict</em><em>[</em><em>int</em><em>, </em><em>torch.Tensor</em><em>]</em>) – dict where key is layer, value is tensor
dimensions: batchsize,channels,height,width</p></li>
<li><p><strong>neuron_counts</strong> (<em>sp.coo_matrix</em>) – Matrix representing the influential neurons in the layer</p></li>
<li><p><strong>layerdict</strong> (<em>OrderedDict</em><em>[</em><em>int</em><em>, </em><em>list</em><em>]</em>) – Keyed by consecutive layers to be profiled</p></li>
<li><p><strong>ldx</strong> (<em>int</em>) – Layer number of the layer to be profiled</p></li>
<li><p><strong>threshold</strong> (<em>float</em>) – Percentage of contribution to track in a profile</p></li>
<li><p><strong>channels</strong> (<em>bool</em>) – profile by channels if True,
otherwise profile by individual elements</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>neuron_counts</strong> (<em>sp.coo_matrix or tuple of sp.coo_matrix</em>)</p></li>
<li><p><strong>synapse_counts</strong> (<em>sp.coo_matrix</em>)</p></li>
<li><p><strong>synapse_weights</strong> (<em>sp.coo_matrix</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="classes.torch_profiler.TorchProfiler.super_nodes_graph">
<code class="sig-name descname">super_nodes_graph</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span>collections.OrderedDict<span class="p">, </span>networkx.classes.digraph.DiGraph<span class="p">, </span>Dict<span class="p">]</span><a class="reference internal" href="../_modules/classes/torch_profiler.html#TorchProfiler.super_nodes_graph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#classes.torch_profiler.TorchProfiler.super_nodes_graph" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>supernodes</strong> (<em>OrderedDict</em>)</p></li>
<li><p><strong>SG</strong> (<em>nx.DiGraph</em>)</p></li>
<li><p><strong>sgpos</strong> (<em>dict</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-classes">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-classes" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../algorithms/modules.html" class="btn btn-neutral float-right" title="algorithms" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="modules.html" class="btn btn-neutral float-left" title="classes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020 Battelle Memorial Institute

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>